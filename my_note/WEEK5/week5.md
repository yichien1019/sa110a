# ğŸ“è»Ÿé«”å·¥ç¨‹èˆ‡æ¼”ç®—æ³•ç¬¬äº”é€±ç­†è¨˜20211013
## ğŸ“– Random
### ğŸ”– äº‚æ•¸ç”¢ç”Ÿæ³•
* äº‚æ•¸çš„ç”¢ç”Ÿ -> ç„¡è¼¸å…¥éš¨æ©Ÿç”¢ç”Ÿè¼¸å‡º
### ğŸ”– é›œæ¹Šç”¢ç”Ÿæ³•
* é›œæ¹Šçš„ç”¢ç”Ÿ -> çµ¦å®šè¼¸å…¥å¾Œå½¢æˆè¼¸å‡ºï¼Œä¸”ç•¶è¼¸å…¥å€¼ç›¸åŒï¼Œè¼¸å‡ºå€¼ä¹Ÿæœƒç›¸åŒï¼Œæœ‰æ©Ÿç‡ç¢°æ’ï¼Œä½†æ˜¯ä»–å¤ å¤§(2çš„256æ¬¡æ–¹)ï¼Œå¹¾ä¹å¯ä»¥ç¢ºå®šä»–ä¸æœƒç¢°æ’
* å®Œå…¨ç¢°æ’ç™¼ç”Ÿåœ¨ 2^256 ï¼Œé æœŸç¬¬ä¸€æ¬¡ç¢°æ’ç‚º 2^128 ï¼Œæ‰€ä»¥å¹¾ä¹å¯ä»¥ç¢ºå®šshaä¸æœƒç¢°æ’
* ä¾‹ : git çš„ commit æ•¸æ˜¯é›œæ¹Šæ•¸å€¼ 
#### ğŸ“ é›œæ¹Šå€¼å¿…é ˆç¬¦åˆå…©å€‹ä¸»è¦æ¢ä»¶ï¼š
* ç”±é›œæ¹Šå€¼æ˜¯ç„¡æ³•åæ¨å‡ºåŸä¾†çš„è¨Šæ¯
* é›œæ¹Šå€¼å¿…é ˆéš¨æ˜æ–‡æ”¹è®Šè€Œæ”¹è®Š

## ğŸ“– [å€å¡Šéˆ](https://zh.wikipedia.org/wiki/%E5%8C%BA%E5%9D%97%E9%93%BE)
å¯ä»¥æƒ³åƒæˆä¸€å€‹åœ¨ç¶²è·¯ä¸Šé¢æ‰€æœ‰äººéƒ½èƒ½åƒèˆ‡çš„é›»å­è¨˜å¸³æœ¬ï¼Œæ›´ç²¾ç¢ºä¾†èªªå°±æ˜¯ã€Œå»ä¸­å¿ƒåŒ–çš„åˆ†æ•£å¼è³‡æ–™åº«ã€ï¼Œä¸€ç¨®è—‰ç”±å¯†ç¢¼å­¸ä¸²æ¥èˆ‡è¤‡è£½è³‡æ–™çš„æŠ€è¡“
![æ“·å–è‡ªç¶²è·¯](pic/blockchain.JPG)
### ğŸ”– æ™ºæ…§è¡“èªï¼šç­è§£å€å¡Šéˆ
* å€å¡Šéˆï¼šå…±ç”¨æ•¸ä½åˆ†é¡å¸³ï¼Œæä¾›å¯é çš„æ–¹æ³•ä¾†è¨˜éŒ„ç”±åˆ†æ•£å¼æˆå“¡ç¶²è·¯ä¸­çš„ä¸€ç³»åˆ—é€£çµè³‡æ–™éš”é›¢è‰™ï¼ˆæˆ–ã€Œå€å¡Šã€ï¼‰çµ„æˆçš„å•†æ¥­äº¤æ˜“
* åŠ å¯†è¡“ï¼šå®‰å…¨çš„è³‡è¨Šå’Œé€šä¿¡æŠ€è¡“ï¼Œåœ¨å€å¡Šéˆä¸­ç”¨æ–¼ç™¼é€å’Œ/æˆ–å­˜å„²è³‡æ–™ï¼Œä»¥ä¾¿åªæœ‰ç›®æ¨™æ”¶ä»¶äººæ‰èƒ½å­˜å–è³‡æ–™ã€‚
* é›œæ¹Šï¼šä¸€ç¨®åŠ å¯†è¡“ â€” åœ¨å€å¡Šéˆä¸­ï¼Œå®ƒæ˜¯æŒ‡å­—æ¯å’Œæ•¸ä½ç·¨ç¢¼å­—ä¸²ï¼Œå°é€£çµåºåˆ—ä¸­æ¯å€‹å–®ç¨çš„å€å¡Šæ˜¯æ°¸ä¹…å”¯ä¸€çš„ï¼›æœ‰æ™‚ä¹Ÿè¢«ç¨±ç‚ºã€Œæ•¸ä½æŒ‡ç´‹ã€ã€‚
* å€å¡Šï¼šå¯†å°è³‡æ–™éš”é›¢è‰™ï¼ŒåŒ…å« : 
![æ“·å–è‡ªç¶²è·¯](pic/block.JPG)
  1. å…¶è‡ªå·±çš„æ¨™è­˜å€å¡Šé›œæ¹Š
  2. ä¾†è‡ªéˆåºåˆ—ä¸­å‰ä¸€å€‹å€å¡Šçš„é›œæ¹Š
  3. ä¸€çµ„å¸¶æ™‚é–“æˆ³è¨˜çš„äº¤æ˜“ã€‚
* å€å¡Šéˆäº¤æ˜“ï¼šç”±æœƒå“¡é©—è­‰çš„è³‡æ–™è¨˜éŒ„ï¼Œæä¾›å¹¾ä¹ä¸å¯è®Šçš„å•†æ¥­äº¤æ˜“è­‰æ˜ â€” ä¾‹å¦‚è²¡å‹™æˆ–åˆåŒå”è­°ã€‚
#### ğŸ“ å€å¡Šéˆçš„ä¸‰å¤§ä¸»è¦ç‰¹è‰²ï¼š
1. å»ä¸­å¿ƒåŒ–ï¼šåœ¨å€å¡Šéˆç•¶ä¸­ä¸å­˜åœ¨ç¬¬ä¸‰æ–¹æ©Ÿæ§‹ï¼Œè€Œæ˜¯ç”±çœ¾å¤šç¤¦å·¥å…±åŒç¶­è­·è³‡æ–™åº«ï¼Œå‡ä½¿å–®ä¸€ç¤¦å·¥ç™¼ç”Ÿå•é¡Œï¼Œä¹Ÿä¸æœƒå½±éŸ¿åˆ°å€å¡Šéˆçš„é‹ä½œï¼›ç›¸åçš„ï¼Œæˆ‘å€‘ä¸€èˆ¬å¸¸è¦‹çš„éŠ€è¡Œå°±æ˜¯å…·ä¸­å¿ƒåŒ–æ€§è³ªçš„ç¬¬ä¸‰æ–¹æ©Ÿæ§‹ã€‚
2. ä¸å¯ç¯¡æ”¹æ€§ï¼šç°¡å–®ä¾†èªªï¼Œå°±æ˜¯å€å¡Šéˆä¸Šçš„è³‡æ–™ä¸èƒ½è¢«éš¨æ„æ›´æ”¹ï¼Œä¸»è¦åŸå› åœ¨æ–¼å€å¡Šéˆç¨æœ‰çš„æŠ€è¡“ï¼Œèƒ½å°‡ç¶“é©—è­‰å¾Œçš„è³‡æ–™æ”¾é€²å€å¡Šéˆç•¶ä¸­ã€‚ç­†è€…é€™é‚Šä¹Ÿæä¾›å¹¾å€‹é—œéµå­—ï¼šå“ˆå¸Œå€¼ã€é»˜å…‹çˆ¾æ¨¹ã€ç¤¦å·¥ç®—åŠ›ï¼Œè®€è€…è‹¥æœ‰èˆˆè¶£æˆ–æƒ³æŒ‘æˆ°çš„è©±ï¼Œéƒ½å¯ä»¥å†è‡ªè¡ŒæŸ¥è©¢ã€‚
3. åŒ¿åæ€§ï¼šåœ¨å€å¡Šéˆä¸Šçš„ä¸–ç•Œè£¡ï¼Œä¸»è¦éƒ½æ˜¯ä½¿ç”¨ã€Œè‹±æ–‡æ­é…æ•¸å­—ã€ä½œç‚ºä»£ç¢¼å‘ˆç¾ï¼Œå¦‚æœä½ æœ‰æŠ•è³‡éåŠ å¯†è²¨å¹£ï¼Œå°±å¯ä»¥è§€å¯Ÿåˆ°äº¤æ˜“ç´€éŒ„éƒ½æ˜¯ä¸€ä¸²è‹±æ–‡æ•¸å­—çš„äº‚ç¢¼ï¼Œèƒ½ä¿è­·ç”¨æˆ¶çš„éš±ç§ã€‚
#### ğŸ“ ç¨®é¡ï¼šå…¬æœ‰éˆã€ç§æœ‰éˆã€è¯ç›Ÿéˆ
å€å¡Šéˆéš¨è‘—ä¸åŒçš„æ‡‰ç”¨å ´æ™¯ï¼Œå¯è¢«åˆ†ç‚ºä¸‰ç¨®ä¸»è¦é¡å‹ï¼Œåˆ†åˆ¥æ˜¯å…¬æœ‰éˆï¼ˆPublic Chainï¼‰ã€ç§æœ‰éˆï¼ˆPrivate Chainï¼‰ä»¥åŠè¯ç›Ÿéˆï¼ˆConsortium Blockchainï¼‰ï¼Œå„è‡ªçš„å»ä¸­å¿ƒåŒ–ç¨‹åº¦èˆ‡ä¿¡ä»»ç¨‹åº¦çš†æœ‰æ‰€ä¸åŒ
1. å…¬æœ‰éˆ : å®Œå…¨å…¬é–‹ã€é€æ˜çš„å€å¡Šéˆï¼Œæ‰€æœ‰äººéƒ½å¯ä»¥åœ¨ä¸Šé¢é€²è¡Œè¨ªå•ã€ç™¼é€ã€æ¥æ”¶æˆ–äº¤æ˜“ç­‰å‹•ä½œï¼Œè¬›ç²¾ç¢ºä¸€é»ï¼Œå³æ‰€æœ‰äººéƒ½èƒ½å¤ è‡ªç”±åƒèˆ‡å…±è­˜æ©Ÿåˆ¶ï¼Œæ˜¯ç›®å‰å¤§å¤šæ•¸å€å¡Šéˆçš„å‹æ…‹
2. ç§æœ‰éˆ : é ˆæœ‰æˆæ¬Šæ‰å¯é€²å…¥çš„å€å¡Šéˆï¼Œé©åˆå–®ä¸€å…¬å¸ã€å–®ä¸€æ©Ÿæ§‹å…§éƒ¨ä½¿ç”¨ï¼Œèƒ½æå‡å…¬å¸å…§éƒ¨äº¤æµçš„æ•ˆç‡ï¼Œæ˜¯ä¸€å€‹ç›¸ç•¶ä¸­å¿ƒåŒ–çš„ç³»çµ±
3. è¯ç›Ÿéˆ : è¯ç›Ÿéˆä»‹æ–¼å…¬æœ‰éˆèˆ‡ç§æœ‰éˆä¹‹é–“ï¼Œçµåˆäº†å…©è€…çš„ä¸»è¦ç‰¹è‰²ã€‚ç›¸è¼ƒå…¬æœ‰éˆï¼Œèƒ½é™ä½ç¯€é»æ•¸é‡ã€æå‡é‹ä½œæ•ˆç‡ï¼›ç›¸è¼ƒç§æœ‰éˆï¼Œèƒ½æ¸›è¼•äº¤æ˜“å°æ‰‹çš„é¢¨éšª


## ğŸ’» ç¨‹å¼å¯¦éš›æ“ä½œ
### ğŸ”— alg/02-random/guid/guid
![](pic/guid.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
function s4() {
  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
}

function guid() {
  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();
}

console.log(guid())
  ```
</details>

#### The result of execution
```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/02-random/guid (master)
$ deno run guid.js
fff510c0-f3c5-c962-b54c-aea5492b59cb

yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/02-random/guid (master)
$ deno run guid.js 
b07ccab6-7487-f12e-3010-ab0276a13f08

yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/02-random/guid (master)
$ deno run guid.js 
1c887a3c-4f77-d009-db90-4ba996af00f1
```

### ğŸ”— alg/02-random/guid/uuid
![](pic/uuid.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
function uuidv4() {
  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8)
    return v.toString(16)
  })
}

console.log(uuidv4())
  ```
</details>

#### The result of execution
* æœ‰ç‰¹å®šé™åˆ¶ `xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx`
```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/02-random/guid (master)
$ deno run uuid.js 
05fc4aaa-3956-4c65-80c1-56af185f78ca

yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/02-random/guid (master)
$ deno run uuid.js 
47dfde08-6b61-4127-9889-1b2da8c10a7a

yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/02-random/guid (master)
$ deno run uuid.js
8051d0ea-bcbb-4f33-813d-0763693d7e6d
```

### ğŸ”— alg/07-hashing/hashtable/hash1
![](pic/hash1.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
var hashCode = function(str) {
  var hash = 0, i, c;
  if (str.length === 0) return hash
  for (i = 0; i < str.length; i++) {
    c     = str.charCodeAt(i)
    hash  = ((hash << 5) - hash) + c // hash = hash*31 + chr = (hash*32-hash) + c
    hash |= 0 // Convert to 32bit integer, åŸå› ï¼š Bitwise operators treat their operands as a sequence of 32 bits (zeroes and ones), rather than as decimal, hexadecimal, or octal numbers
  }
  return hash
}
console.log('hashCode(hello)=', hashCode('hello'))
console.log('hashCode(hello!)=', hashCode('hello!'))
console.log('hashCode(hello world !)=', hashCode('hello world !'))
  ```
</details>

#### The result of execution
```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/07-hashing/hashtable (master)
$ deno run hash1.js 
hashCode(hello)= 99162322
hashCode(hello!)= -1220935281      
hashCode(hello world !)= 1854031301
```

### ğŸ”— alg/07-hashing/hashtable/hash2
![](pic/hash2.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
function hash(str) {
  let hash = 5381
  let i = str.length
  while(i) {
    hash = (hash * 33) ^ str.charCodeAt(--i);
  }
  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed
   * integers. Since we want the results to be always positive, convert the
   * signed int to an unsigned by doing an unsigned bitshift. */
  return hash >>> 0;
}
console.log('hash(hello)=', hash('hello').toString(16))
console.log('hash(hello!)=', hash('hello!').toString(16))
console.log('hash(hello world !)=', hash('hello world !').toString(16))
  ```
</details>

#### The result of execution
```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/07-hashing/hashtable (master)
$ deno run hash2.js 
hash(hello)= acfa3a7
hash(hello!)= c21a8b86       
hash(hello world !)= 316d7444
```

### ğŸ”— alg/07-hashing/hashtable/hashtable
![](pic/hashtable.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
class HashTable {
  constructor(size) {
    this.table = new Array(size)
  }

  hashCode(str) {
    var hash = 0, i, c;
    if (str.length === 0) return hash
    for (i = 0; i < str.length; i++) {
      c     = str.charCodeAt(i)
      hash  = ((hash << 5) - hash) + c // hash = hash*31 + chr = (hash*32-hash) + c
      hash |= 0 // Convert to 32bit integer, åŸå› ï¼š Bitwise operators treat their operands as a sequence of 32 bits (zeroes and ones), rather than as decimal, hexadecimal, or octal numbers
    }
    return hash
  }

  size() { return this.table.length }

  slot(key) {
    return this.hashCode(key) % this.size()
  }

  get(key) {
    let i = this.slot(key)
    if (this.table[i] == null) return
    return this.table[i].find((o)=>o.key==key)
  }

  put(key, value) {
    let i = this.slot(key)
    if (this.table[i] == null) {
      this.table[i] = [{key:key, value:value}]
    } else {
      let obj = this.table[i].find((o)=>o.key==key)
      if (obj == null) {
        this.table[i].push({key:key, value:value})
      } else {
        obj.value = value
      }
    }
  }

  remove(key) {
    let i = this.slot(key)
    if (this.table[i] != null) {
      let pos = this.table[i].findIndex((o)=>o.key == key)
      if (pos >= 0) this.table[i].splice(pos, 1)
    }
  }
}

let ht = new HashTable(127)
ht.put('ccc', 'ccckmit@gmail.com')
ht.put('snoopy', 'snoopy@mail.disney.com')
console.log('get(ccc)=', ht.get('ccc'))
console.log('get(garfield)=', ht.get('garfield'))
ht.remove('ccc')
console.log('get(ccc)=', ht.get('ccc'))
  ```
</details>

#### The result of execution
```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/07-hashing/hashtable (master)
$ deno run hashtable.js 
get(ccc)= { key: "ccc", value: "ccckmit@gmail.com" }
get(garfield)= undefined
get(ccc)= undefined 
```

### ğŸ”— alg/07-hashing/sha/hash.js
![](pic/hash.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
// åƒè€ƒ -- https://deno.land/std@0.63.0/hash
import { createHash } from 'https://deno.land/std/hash/mod.ts';

function hash(text) {
  const h = createHash('sha256') // const hash = createHash('md5')
  h.update(text)
  return h.toString()
}

console.log('hash(hello)=', hash('hello'))
console.log('hash(hello!)=', hash('hello!'))
console.log('hash(hello world !)=', hash('hello world !'))

  ```
</details>

#### The result of execution
```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/07-hashing/sha (master)
$ deno run hash.js 
hash(hello)= 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824
hash(hello!)= ce06092fb948d9ffac7d1a376e404b26b7575bcc11ee05a4615fef4fec3a308b       
hash(hello world !)= a4bf1f6be616bf6a0de2ff6264de43a64bb768d38c783ec2bc74b5d4dcf5f889
```

### ğŸ”— alg/07-hashing/sha/digest
![](pic/digest.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
import { createHash } from 'https://deno.land/std/hash/mod.ts';

function hash(text) {
  const h = createHash('sha256')
  h.update(text)
  return h.toString()
}

let record = {
  nonce: 0,
  data: 'john => mary $2.7',
}

let json = JSON.stringify(record, null, 2)
console.log('json=', json)
const digest = hash(json)
console.log('digest=', digest)
  ```
</details>

#### The result of execution
* åœ¨å€å¡ŠéŠä¸­æŒ–nonceï¼Œå¡«å…¥çš„hashå‰é¢æœ‰è¶³å¤ å¤šçš„å‰å°é›¶
```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/07-hashing/sha (master)
$ deno run digest.js 
json= {
  "nonce": 0,
  "data": "john => mary $2.7"
}
digest= cde91f9fdaf2ad6d01d07bb2836f3f6640556232660faa3731c47ebf86683cb8
```

### ğŸ”— 
![](pic/.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
  ```
</details>

#### The result of execution
```
```

### ğŸ”— 
![](pic/.JPG)
<details>
  <summary><b>Show code</b></summary>

  ```
  ```
</details>

#### The result of execution
```
```

## ğŸ“– è£œå……è³‡æ–™
* [æ·±å…¥ç­è§£å€å¡ŠéˆæŠ€è¡“çš„æ„ç¾©](https://www.amd.com/zh-hant/technologies/blockchain-explained)
æ²’è¼¸å…¥ç”¢ç”Ÿäº‚æ•¸ 
hash2 å¤ªç°¡å–® 
hashtable å¤§å°å›ºå®š127æ˜¯è³ªæ•¸ å› ç‚ºç¢°æ’ç‡
ç¢°æ’å®Œå…¨åœ¨2^256ï¼Œé æœŸç¬¬ä¸€æ¬¡ç¢°æ’ 2^128 å¹¾ä¹å¯ä»¥ç¢ºå®šshaä¸æœƒç¢°æ’
å°±ç®—æœ‰å•é¡Œ åŠ å€2^512





digest
æŒ–ç¤¦->çŒœæ•¸å­—
mining
è¶³å¤ å‰å°0->5å€‹






```
yichien@MSI MINGW64 /d/VScode/WP/ccc/110a/sa/alg/07-hashing/sha (master)
$ deno run hash.js
Download https://deno.land/std/hash/mod.ts
Warning Implicitly using latest version (0.111.0) for https://deno.land/std/hash/mod.tsod.ts
Download https://deno.land/std@0.111.0/hash/mod.ts
Download https://deno.land/std@0.111.0/hash/hasher.ts
Download https://deno.land/std@0.111.0/hash/_wasm/hash.ts
Download https://deno.land/std@0.111.0/encoding/base64.ts
Download https://deno.land/std@0.111.0/hash/_wasm/wasm.js
Download https://deno.land/std@0.111.0/encoding/hex.ts
Check file:///D:/VScode/WP/ccc/110a/sa/alg/07-hashing/sha/hash.js
hash(hello)= 2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c1fa7425e73043362938b9824     
hash(hello!)= ce06092fb948d9ffac7d1a376e404b26b7575bcc11ee05a4615fef4fec3a308b    889
hash(hello world !)= a4bf1f6be616bf6a0de2ff6264de43a64bb768d38c783ec2bc74b5d4dcf5f889
```


https://www.facebook.com/ccckmit/videos/352484563296857
19:00